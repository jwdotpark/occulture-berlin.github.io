<!--

  this layout accepts the following variables:

  title - meta tag title
  description - meta tag description
  url - meta tag url
  image - open graph image displayed in previews
  background_image - image in the background of the site
  background_image_id - css id for the background image
  onLoadAction - javascript function to run on page load
  displayImageCarousel - [hidden by default] show the image carousel

-->

<!DOCTYPE HTML>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124583019-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-124583019-1', {
        'page_path': location.href
      });
    </script>

    <!-- Facebook Pixel Code -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '302054690638448');
      fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=302054690638448&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code -->

    <title>{{ page.title }}</title>

    <meta charset='utf-8'>
    <meta name="description"          content="{{ page.description }}">
    <meta property="og:url"           content="{{ page.url }}" />
    <meta property="og:type"          content="website" />
    <meta property="og:title"         content="{{ page.title }}" />
    <meta property="og:description"   content="{{ page.description }}" />
    <meta property="og:image"         content="{{ page.image }}" />
    <meta property="og:site_name"     content="OCCULTURE Berlin" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <link rel="stylesheet" type='text/css' href="stylesheets/fancybox.min.css" />

    <!-- fonts loaded from google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Metamorphous|Raleway" rel="stylesheet">
  </head>

  <body onLoad="{{ page.onLoadAction }}">
    <span id="{{ page.background_image_id }}">
      <img id='bg-image' src="{{ page.background_image }}">
    </span>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <!-- TODO: This should go into a partial -->
      {% if page.displayImageCarousel == true %}
        <div id='image-carousel'>
          <ul id='images'>
            <li><img src="images/carousel/2018_acolytes.jpg" alt='acolytes'></li>
            <li><img src="images/carousel/2018_altar.jpg" alt='altar'></li>
            <li><img src="images/carousel/2018_isis.jpg" alt='isis'></li>
            <li><img src="images/carousel/2018_opening_ritual.jpg" alt='opening_ritual'></li>
            <li><img src="images/carousel/2018_phurpa.jpg" alt='phurpa'></li>
            <li><img src="images/carousel/2018_suspension_performance.jpg" alt='suspension'></li>
          </ul>
        </div>
      {% endif %}

      <header class="inner">
        <a onclick="goToPage('index.html')">
          <img id="logo" src="images/occulture-logo-alpha.png" alt="Occulture Berlin">
        </a>
      </header>
    </div>

    {{ content }}

    <!-- FOOTER -->
    <footer id="footer-wrap" class="outer">
      <div id='footer-links' class='inner'>
        <ul>
          <li><a class="ga-track" onclick="goToPage('impressum.html')">Impressum</a></li>
        </ul>
      </div>
    </footer>
  </body>

  {% haml mailing_list.haml %}

  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"
    type="text/javascript">
  </script>
  <script src="javascripts/js.cookie.js" type="text/javascript"></script>
  <script src="javascripts/image_carousel.js" type="text/javascript"></script>
  <script src="javascripts/mustache.min.js" type="text/javascript"></script>
  <script src="javascripts/main.js" type="text/javascript"></script>
  <script src="javascripts/lineup_2019.js" type="text/javascript"></script>
  <script src="javascripts/fancybox.min.js" type="text/javascript"></script>
</html>
